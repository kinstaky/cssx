#include <iostream>
#include <set>
#include <queue>
#include <utility>

using namespace std;

class MyLess {
public:
	bool operator()(const pair<int, int> &p1, const pair<int, int> &p2) const {
		return (p1.first < p2.first || (p1.first == p2.first && p1.second < p2.second));
	}
};


class MyGreater {
public:
	bool operator()(const pair<int, int> &p1, const pair<int, int> &p2) const {
		return (p1.first > p2.first || (p1.first == p2.first && p1.second > p2.second));
	}
};



set < int > sushu;
priority_queue < pair < int, int>, vector< pair < int, int > >, MyLess > pq1;
priority_queue < pair < int, int>, vector< pair < int, int > >, MyGreater > pq2;


void make_table();


int calsu(int x) {
	int old = x;
	int y = 0;
	set<int>::iterator iter = sushu.begin();
	while (iter != sushu.end()) {
		int p = *iter;
		if (x == 1 || p == old) break;
		if (x % p == 0) {
			++y;
			while (x % p == 0) x /= p;
		}
		++iter;
	}
	if (x != 1 && x >= 3163 && old != x) return y + 1;
	return y;
}


int main() {
	make_table();
	int n;
	cin >> n;
	for (int i = 0; i != n; ++i) {
		for (int j = 0; j != 10; ++j) {
			int x;
			cin >> x;
			//cout << " " << x << " is " << calsu(x) << endl;
			pq1.push(make_pair(calsu(x), x));
			pq2.push(make_pair(calsu(x), x));
		}
		cout << pq1.top().second << " " << pq2.top().second << endl;
		pq1.pop();
		pq2.pop();
	}
	return 0;
}



void make_table() {
	sushu.insert(2);
	sushu.insert(3);
	sushu.insert(5);
	sushu.insert(7);
	sushu.insert(11);
	sushu.insert(13);
	sushu.insert(17);
	sushu.insert(19);
	sushu.insert(23);
	sushu.insert(29);
	sushu.insert(31);
	sushu.insert(37);
	sushu.insert(41);
	sushu.insert(43);
	sushu.insert(47);
	sushu.insert(53);
	sushu.insert(59);
	sushu.insert(61);
	sushu.insert(67);
	sushu.insert(71);
	sushu.insert(73);
	sushu.insert(79);
	sushu.insert(83);
	sushu.insert(89);
	sushu.insert(97);
	sushu.insert(101);
	sushu.insert(103);
	sushu.insert(107);
	sushu.insert(109);
	sushu.insert(113);
	sushu.insert(127);
	sushu.insert(131);
	sushu.insert(137);
	sushu.insert(139);
	sushu.insert(149);
	sushu.insert(151);
	sushu.insert(157);
	sushu.insert(163);
	sushu.insert(167);
	sushu.insert(173);
	sushu.insert(179);
	sushu.insert(181);
	sushu.insert(191);
	sushu.insert(193);
	sushu.insert(197);
	sushu.insert(199);
	sushu.insert(211);
	sushu.insert(223);
	sushu.insert(227);
	sushu.insert(229);
	sushu.insert(233);
	sushu.insert(239);
	sushu.insert(241);
	sushu.insert(251);
	sushu.insert(257);
	sushu.insert(263);
	sushu.insert(269);
	sushu.insert(271);
	sushu.insert(277);
	sushu.insert(281);
	sushu.insert(283);
	sushu.insert(293);
	sushu.insert(307);
	sushu.insert(311);
	sushu.insert(313);
	sushu.insert(317);
	sushu.insert(331);
	sushu.insert(337);
	sushu.insert(347);
	sushu.insert(349);
	sushu.insert(353);
	sushu.insert(359);
	sushu.insert(367);
	sushu.insert(373);
	sushu.insert(379);
	sushu.insert(383);
	sushu.insert(389);
	sushu.insert(397);
	sushu.insert(401);
	sushu.insert(409);
	sushu.insert(419);
	sushu.insert(421);
	sushu.insert(431);
	sushu.insert(433);
	sushu.insert(439);
	sushu.insert(443);
	sushu.insert(449);
	sushu.insert(457);
	sushu.insert(461);
	sushu.insert(463);
	sushu.insert(467);
	sushu.insert(479);
	sushu.insert(487);
	sushu.insert(491);
	sushu.insert(499);
	sushu.insert(503);
	sushu.insert(509);
	sushu.insert(521);
	sushu.insert(523);
	sushu.insert(541);
	sushu.insert(547);
	sushu.insert(557);
	sushu.insert(563);
	sushu.insert(569);
	sushu.insert(571);
	sushu.insert(577);
	sushu.insert(587);
	sushu.insert(593);
	sushu.insert(599);
	sushu.insert(601);
	sushu.insert(607);
	sushu.insert(613);
	sushu.insert(617);
	sushu.insert(619);
	sushu.insert(631);
	sushu.insert(641);
	sushu.insert(643);
	sushu.insert(647);
	sushu.insert(653);
	sushu.insert(659);
	sushu.insert(661);
	sushu.insert(673);
	sushu.insert(677);
	sushu.insert(683);
	sushu.insert(691);
	sushu.insert(701);
	sushu.insert(709);
	sushu.insert(719);
	sushu.insert(727);
	sushu.insert(733);
	sushu.insert(739);
	sushu.insert(743);
	sushu.insert(751);
	sushu.insert(757);
	sushu.insert(761);
	sushu.insert(769);
	sushu.insert(773);
	sushu.insert(787);
	sushu.insert(797);
	sushu.insert(809);
	sushu.insert(811);
	sushu.insert(821);
	sushu.insert(823);
	sushu.insert(827);
	sushu.insert(829);
	sushu.insert(839);
	sushu.insert(853);
	sushu.insert(857);
	sushu.insert(859);
	sushu.insert(863);
	sushu.insert(877);
	sushu.insert(881);
	sushu.insert(883);
	sushu.insert(887);
	sushu.insert(907);
	sushu.insert(911);
	sushu.insert(919);
	sushu.insert(929);
	sushu.insert(937);
	sushu.insert(941);
	sushu.insert(947);
	sushu.insert(953);
	sushu.insert(967);
	sushu.insert(971);
	sushu.insert(977);
	sushu.insert(983);
	sushu.insert(991);
	sushu.insert(997);
	sushu.insert(1009);
	sushu.insert(1013);
	sushu.insert(1019);
	sushu.insert(1021);
	sushu.insert(1031);
	sushu.insert(1033);
	sushu.insert(1039);
	sushu.insert(1049);
	sushu.insert(1051);
	sushu.insert(1061);
	sushu.insert(1063);
	sushu.insert(1069);
	sushu.insert(1087);
	sushu.insert(1091);
	sushu.insert(1093);
	sushu.insert(1097);
	sushu.insert(1103);
	sushu.insert(1109);
	sushu.insert(1117);
	sushu.insert(1123);
	sushu.insert(1129);
	sushu.insert(1151);
	sushu.insert(1153);
	sushu.insert(1163);
	sushu.insert(1171);
	sushu.insert(1181);
	sushu.insert(1187);
	sushu.insert(1193);
	sushu.insert(1201);
	sushu.insert(1213);
	sushu.insert(1217);
	sushu.insert(1223);
	sushu.insert(1229);
	sushu.insert(1231);
	sushu.insert(1237);
	sushu.insert(1249);
	sushu.insert(1259);
	sushu.insert(1277);
	sushu.insert(1279);
	sushu.insert(1283);
	sushu.insert(1289);
	sushu.insert(1291);
	sushu.insert(1297);
	sushu.insert(1301);
	sushu.insert(1303);
	sushu.insert(1307);
	sushu.insert(1319);
	sushu.insert(1321);
	sushu.insert(1327);
	sushu.insert(1361);
	sushu.insert(1367);
	sushu.insert(1373);
	sushu.insert(1381);
	sushu.insert(1399);
	sushu.insert(1409);
	sushu.insert(1423);
	sushu.insert(1427);
	sushu.insert(1429);
	sushu.insert(1433);
	sushu.insert(1439);
	sushu.insert(1447);
	sushu.insert(1451);
	sushu.insert(1453);
	sushu.insert(1459);
	sushu.insert(1471);
	sushu.insert(1481);
	sushu.insert(1483);
	sushu.insert(1487);
	sushu.insert(1489);
	sushu.insert(1493);
	sushu.insert(1499);
	sushu.insert(1511);
	sushu.insert(1523);
	sushu.insert(1531);
	sushu.insert(1543);
	sushu.insert(1549);
	sushu.insert(1553);
	sushu.insert(1559);
	sushu.insert(1567);
	sushu.insert(1571);
	sushu.insert(1579);
	sushu.insert(1583);
	sushu.insert(1597);
	sushu.insert(1601);
	sushu.insert(1607);
	sushu.insert(1609);
	sushu.insert(1613);
	sushu.insert(1619);
	sushu.insert(1621);
	sushu.insert(1627);
	sushu.insert(1637);
	sushu.insert(1657);
	sushu.insert(1663);
	sushu.insert(1667);
	sushu.insert(1669);
	sushu.insert(1693);
	sushu.insert(1697);
	sushu.insert(1699);
	sushu.insert(1709);
	sushu.insert(1721);
	sushu.insert(1723);
	sushu.insert(1733);
	sushu.insert(1741);
	sushu.insert(1747);
	sushu.insert(1753);
	sushu.insert(1759);
	sushu.insert(1777);
	sushu.insert(1783);
	sushu.insert(1787);
	sushu.insert(1789);
	sushu.insert(1801);
	sushu.insert(1811);
	sushu.insert(1823);
	sushu.insert(1831);
	sushu.insert(1847);
	sushu.insert(1861);
	sushu.insert(1867);
	sushu.insert(1871);
	sushu.insert(1873);
	sushu.insert(1877);
	sushu.insert(1879);
	sushu.insert(1889);
	sushu.insert(1901);
	sushu.insert(1907);
	sushu.insert(1913);
	sushu.insert(1931);
	sushu.insert(1933);
	sushu.insert(1949);
	sushu.insert(1951);
	sushu.insert(1973);
	sushu.insert(1979);
	sushu.insert(1987);
	sushu.insert(1993);
	sushu.insert(1997);
	sushu.insert(1999);
	sushu.insert(2003);
	sushu.insert(2011);
	sushu.insert(2017);
	sushu.insert(2027);
	sushu.insert(2029);
	sushu.insert(2039);
	sushu.insert(2053);
	sushu.insert(2063);
	sushu.insert(2069);
	sushu.insert(2081);
	sushu.insert(2083);
	sushu.insert(2087);
	sushu.insert(2089);
	sushu.insert(2099);
	sushu.insert(2111);
	sushu.insert(2113);
	sushu.insert(2129);
	sushu.insert(2131);
	sushu.insert(2137);
	sushu.insert(2141);
	sushu.insert(2143);
	sushu.insert(2153);
	sushu.insert(2161);
	sushu.insert(2179);
	sushu.insert(2203);
	sushu.insert(2207);
	sushu.insert(2213);
	sushu.insert(2221);
	sushu.insert(2237);
	sushu.insert(2239);
	sushu.insert(2243);
	sushu.insert(2251);
	sushu.insert(2267);
	sushu.insert(2269);
	sushu.insert(2273);
	sushu.insert(2281);
	sushu.insert(2287);
	sushu.insert(2293);
	sushu.insert(2297);
	sushu.insert(2309);
	sushu.insert(2311);
	sushu.insert(2333);
	sushu.insert(2339);
	sushu.insert(2341);
	sushu.insert(2347);
	sushu.insert(2351);
	sushu.insert(2357);
	sushu.insert(2371);
	sushu.insert(2377);
	sushu.insert(2381);
	sushu.insert(2383);
	sushu.insert(2389);
	sushu.insert(2393);
	sushu.insert(2399);
	sushu.insert(2411);
	sushu.insert(2417);
	sushu.insert(2423);
	sushu.insert(2437);
	sushu.insert(2441);
	sushu.insert(2447);
	sushu.insert(2459);
	sushu.insert(2467);
	sushu.insert(2473);
	sushu.insert(2477);
	sushu.insert(2503);
	sushu.insert(2521);
	sushu.insert(2531);
	sushu.insert(2539);
	sushu.insert(2543);
	sushu.insert(2549);
	sushu.insert(2551);
	sushu.insert(2557);
	sushu.insert(2579);
	sushu.insert(2591);
	sushu.insert(2593);
	sushu.insert(2609);
	sushu.insert(2617);
	sushu.insert(2621);
	sushu.insert(2633);
	sushu.insert(2647);
	sushu.insert(2657);
	sushu.insert(2659);
	sushu.insert(2663);
	sushu.insert(2671);
	sushu.insert(2677);
	sushu.insert(2683);
	sushu.insert(2687);
	sushu.insert(2689);
	sushu.insert(2693);
	sushu.insert(2699);
	sushu.insert(2707);
	sushu.insert(2711);
	sushu.insert(2713);
	sushu.insert(2719);
	sushu.insert(2729);
	sushu.insert(2731);
	sushu.insert(2741);
	sushu.insert(2749);
	sushu.insert(2753);
	sushu.insert(2767);
	sushu.insert(2777);
	sushu.insert(2789);
	sushu.insert(2791);
	sushu.insert(2797);
	sushu.insert(2801);
	sushu.insert(2803);
	sushu.insert(2819);
	sushu.insert(2833);
	sushu.insert(2837);
	sushu.insert(2843);
	sushu.insert(2851);
	sushu.insert(2857);
	sushu.insert(2861);
	sushu.insert(2879);
	sushu.insert(2887);
	sushu.insert(2897);
	sushu.insert(2903);
	sushu.insert(2909);
	sushu.insert(2917);
	sushu.insert(2927);
	sushu.insert(2939);
	sushu.insert(2953);
	sushu.insert(2957);
	sushu.insert(2963);
	sushu.insert(2969);
	sushu.insert(2971);
	sushu.insert(2999);
	sushu.insert(3001);
	sushu.insert(3011);
	sushu.insert(3019);
	sushu.insert(3023);
	sushu.insert(3037);
	sushu.insert(3041);
	sushu.insert(3049);
	sushu.insert(3061);
	sushu.insert(3067);
	sushu.insert(3079);
	sushu.insert(3083);
	sushu.insert(3089);
	sushu.insert(3109);
	sushu.insert(3119);
	sushu.insert(3121);
	sushu.insert(3137);
	return;
}